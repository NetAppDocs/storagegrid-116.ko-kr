---
permalink: monitor/monitoring-storage-capacity.html 
sidebar: sidebar 
keywords: how to monitor storage capacity 
summary: 사용 가능한 총 공간을 모니터링하여 StorageGRID 시스템에 오브젝트 또는 오브젝트 메타데이터의 스토리지 공간이 부족하지 않은지 확인합니다. 
---
= 스토리지 용량을 모니터링합니다
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
사용 가능한 총 공간을 모니터링하여 StorageGRID 시스템에 오브젝트 또는 오브젝트 메타데이터의 스토리지 공간이 부족하지 않은지 확인합니다.

StorageGRID는 오브젝트 데이터와 오브젝트 메타데이터를 별도로 저장하며 오브젝트 메타데이터를 포함하는 분산된 Cassandra 데이터베이스에 대한 특정 양의 공간을 예약합니다. 오브젝트 및 오브젝트 메타데이터에 사용되는 총 공간의 양과 각 오브젝트에 사용되는 공간 추세를 모니터링합니다. 따라서 노드를 추가하기 전에 미리 계획하고 서비스 중단을 방지할 수 있습니다.

가능합니다 xref:viewing-storage-tab.adoc[스토리지 용량 정보를 봅니다] 전체 그리드, 각 사이트 및 StorageGRID 시스템의 각 스토리지 노드에 대해



== 전체 그리드에 대한 스토리지 용량을 모니터링합니다

그리드의 전체 스토리지 용량을 모니터링하여 오브젝트 데이터 및 오브젝트 메타데이터에 대한 충분한 여유 공간이 유지되도록 해야 합니다. 시간이 지남에 따라 스토리지 용량이 변경되는 방식을 이해하면 그리드의 가용 스토리지 용량이 소비되기 전에 스토리지 노드 또는 스토리지 볼륨을 추가할 계획을 세울 수 있습니다.

.필요한 것
를 사용하여 그리드 관리자에 로그인했습니다 xref:../admin/web-browser-requirements.adoc[지원되는 웹 브라우저].

.이 작업에 대해
Grid Manager의 대시보드를 사용하면 전체 그리드와 각 데이터 센터에 대해 사용 가능한 스토리지 양을 신속하게 평가할 수 있습니다. 노드 페이지에서는 오브젝트 데이터 및 오브젝트 메타데이터에 대한 자세한 값을 제공합니다.

.단계
. 전체 그리드 및 각 데이터 센터에 사용할 수 있는 스토리지 양을 평가합니다.
+
.. 대시보드 * 를 선택합니다.
.. Available Storage(사용 가능한 스토리지) 패널에서 사용 가능한 스토리지 용량과 사용된 스토리지 용량의 전체 요약을 확인합니다.
+

NOTE: 요약에는 아카이브 미디어가 포함되지 않습니다.

+
image::../media/dashboard_available_storage_panel.png[Available Storage(사용 가능한 스토리지) 패널]

.. 차트의 Free(여유) 또는 Used Capacity(사용된 용량) 섹션 위에 커서를 놓으면 사용 가능한 공간 또는 사용된 공간을 정확하게 확인할 수 있습니다.
+
image::../media/storage_capacity_used.gif[대시보드 가용 용량 또는 사용된 용량 차트]

.. 다중 사이트 그리드의 경우 각 데이터 센터에 대한 차트를 검토하십시오.
.. 차트 아이콘을 클릭합니다 image:../media/icon_chart_new_for_11_5.png["차트 아이콘"] 전체 차트 또는 개별 데이터 센터에 대해 시간별 용량 사용을 보여주는 그래프를 표시합니다.
+
사용된 스토리지 용량(%)과 을 비교한 그래프입니다 시간이 나타납니다.



. 사용된 스토리지 양과 오브젝트 데이터 및 오브젝트 메타데이터에 사용 가능한 스토리지 양을 확인합니다.
+
.. 노드 * 를 선택합니다.
.. *_GRID_ * > * 스토리지 * 를 선택합니다.
+
image::../media/nodes_deployment_storage_tab.png[노드 배포 스토리지 탭]

.. 커서를 * Storage Used-object data * 및 * Storage Used-object metadata * 차트 위에 올려 놓으면 전체 그리드에 사용 가능한 객체 스토리지 및 객체 메타데이터 스토리지가 얼마나 되는지, 그리고 시간이 지남에 따라 얼마나 사용되었는지 확인할 수 있습니다.
+

NOTE: 사이트 또는 그리드의 총 값에는 오프라인 노드와 같이 최소 5분 동안 보고된 메트릭이 없는 노드가 포함되지 않습니다.



. 그리드의 가용 스토리지 용량이 소비되기 전에 스토리지 노드 또는 스토리지 볼륨을 추가하기 위해 확장을 수행할 계획을 수립합니다.
+
확장 시기를 계획할 때 추가 스토리지를 조달 및 설치하는 데 걸리는 시간을 고려하십시오.

+

NOTE: ILM 정책에서 삭제 코딩을 사용하는 경우 기존 스토리지 노드의 비율이 약 70%일 때 확장을 수행하여 추가해야 할 노드 수를 줄일 수 있습니다.

+
스토리지 확장 계획에 대한 자세한 내용은 를 참조하십시오 xref:../expand/index.adoc[StorageGRID 확장 지침].





== 각 스토리지 노드의 스토리지 용량을 모니터링합니다

각 스토리지 노드의 총 사용 가능 공간을 모니터링하여 노드에 새 객체 데이터를 위한 충분한 공간이 있는지 확인합니다.

.필요한 것
* 를 사용하여 그리드 관리자에 로그인했습니다 xref:../admin/web-browser-requirements.adoc[지원되는 웹 브라우저].


.이 작업에 대해
사용 가능한 공간 은 오브젝트를 저장할 수 있는 저장 공간의 양입니다. 스토리지 노드의 사용 가능한 총 공간은 노드 내의 모든 오브젝트 저장소에 사용 가능한 공간을 추가하여 계산합니다.

image::../media/calculating_watermarks.gif[사용 가능한 총 공간에 대한 개념적 도면]

.단계
. nodes * > *_Storage Node_ * > * Storage * 를 선택합니다.
+
노드에 대한 그래프와 표가 나타납니다.

. 커서를 Storage Used-object 데이터 그래프 위에 놓습니다.
+
다음 값이 표시됩니다.

+
** * 사용됨(%) *: 오브젝트 데이터에 사용된 총 사용 가능 공간의 비율입니다.
** * 사용됨 *: 오브젝트 데이터에 사용된 총 사용 가능 공간의 양입니다.
** * 복제된 데이터 *: 이 노드, 사이트 또는 그리드에 복제된 객체 데이터의 양을 추정하는 것입니다.
** * 삭제 코딩 데이터 *: 이 노드, 사이트 또는 그리드에 삭제 코딩 처리된 오브젝트 데이터의 양을 예측합니다.
** * 총 *: 이 노드, 사이트 또는 그리드에서 사용 가능한 총 공간입니다. 사용된 값은 'toragegrid_storage_Utilization_data_bytes' 메트릭입니다.


+
image::../media/nodes_page_storage_used_object_data.png[노드 페이지 스토리지 사용된 오브젝트 데이터]

. 그래프 아래에 있는 Volumes and Object Stores(볼륨 및 오브젝트 저장소) 표에서 사용 가능한 값을 검토합니다.
+

NOTE: 이러한 값의 그래프를 보려면 차트 아이콘을 클릭합니다 image:../media/icon_chart_new_for_11_5.png["차트 아이콘"] 를 클릭합니다.

+
image::../media/nodes_page_storage_tables.png[개체는 테이블을 저장합니다]

. 시간에 따른 값을 모니터링하여 사용 가능한 스토리지 공간이 사용되는 속도를 예측합니다.
. 정상적인 시스템 운영을 유지하려면 사용 가능한 공간이 소비되기 전에 스토리지 노드를 추가하고, 스토리지 볼륨을 추가하거나, 오브젝트 데이터를 아카이빙합니다.
+
확장 시기를 계획할 때 추가 스토리지를 조달 및 설치하는 데 걸리는 시간을 고려하십시오.

+

NOTE: ILM 정책에서 삭제 코딩을 사용하는 경우 기존 스토리지 노드의 비율이 약 70%일 때 확장을 수행하여 추가해야 할 노드 수를 줄일 수 있습니다.

+
스토리지 확장 계획에 대한 자세한 내용은 를 참조하십시오 xref:../expand/index.adoc[StorageGRID 확장 지침].

+
를 클릭합니다 xref:troubleshooting-storagegrid-system.adoc[* 낮은 오브젝트 데이터 스토리지 *] 스토리지 노드에 오브젝트 데이터를 저장하기 위한 공간이 부족할 때 경고가 트리거됩니다.





== 각 스토리지 노드의 객체 메타데이터 용량을 모니터링합니다

각 스토리지 노드의 메타데이터 사용량을 모니터링하여 필수 데이터베이스 작업에 사용할 수 있는 충분한 공간을 확보합니다. 오브젝트 메타데이터가 허용된 메타데이터 공간의 100%를 초과하기 전에 각 사이트에 새 스토리지 노드를 추가해야 합니다.

.필요한 것
* 를 사용하여 그리드 관리자에 로그인했습니다 xref:../admin/web-browser-requirements.adoc[지원되는 웹 브라우저].


.이 작업에 대해
StorageGRID는 이중화를 제공하고 오브젝트 메타데이터를 손실로부터 보호하기 위해 각 사이트에 3개의 오브젝트 메타데이터 복사본을 유지합니다. 이 세 복제본은 각 스토리지 노드의 스토리지 볼륨 0에 있는 메타데이터에 예약된 공간을 사용하여 각 사이트의 모든 스토리지 노드에 균등하게 분산됩니다.

경우에 따라 그리드의 오브젝트 메타데이터 용량이 오브젝트 스토리지 용량보다 더 빠르게 소비될 수 있습니다. 예를 들어, 일반적으로 많은 수의 작은 오브젝트를 수집하는 경우 충분한 오브젝트 스토리지 용량이 남아 있더라도 메타데이터 용량을 늘리려면 스토리지 노드를 추가해야 할 수 있습니다.

메타데이터 사용량을 늘릴 수 있는 요인으로는 사용자 메타데이터 및 태그의 크기와 수량, 여러 부분 업로드의 총 부품 수, ILM 스토리지 위치의 변경 빈도 등이 있습니다.

.단계
. nodes * > *_Storage Node_ * > * Storage * 를 선택합니다.
. 커서를 Storage Used-object 메타데이터 그래프 위에 놓으면 특정 시간의 값을 볼 수 있습니다.
+
image::../media/storage_used_object_metadata.png[사용된 스토리지 - 오브젝트 메타데이터]

+
[cols="1a,3a,2a"]
|===
| 값 | 설명 | Prometheus 메트릭입니다 


 a| 
사용됨(%)
 a| 
이 스토리지 노드에서 사용된 허용된 메타데이터 공간의 비율입니다.
 a| 
'toragegrid_storage_Utilization_metadata_bytes/StorageGRID_storage_Utilization_metadata_Allowed_bytes'



 a| 
사용됨
 a| 
이 스토리지 노드에서 사용된 허용되는 메타데이터 공간의 바이트
 a| 
'toragegrid_storage_Utilization_metadata_bytes'



 a| 
허용됨
 a| 
이 스토리지 노드의 객체 메타데이터에 허용되는 공간입니다. 이 값이 각 스토리지 노드에 대해 어떻게 결정되는지 알아보려면 를 참조하십시오 xref:../admin/index.adoc[StorageGRID 관리 지침].
 a| 
'toragegrid_storage_Utilization_metadata_allowed_bytes'



 a| 
실제 예약입니다
 a| 
이 스토리지 노드의 메타데이터에 예약된 실제 공간입니다. 필수 메타데이터 작업에 필요한 공간 및 허용된 공간이 포함됩니다. 각 스토리지 노드에 대해 이 값이 계산되는 방법에 대한 자세한 내용은 를 참조하십시오 xref:../admin/index.adoc[StorageGRID 관리 지침].
 a| 
_Metric은 향후 릴리즈에서 추가될 예정입니다. _

|===
+

NOTE: 사이트 또는 그리드의 총 값에는 오프라인 노드와 같이 최소 5분 동안 메트릭을 보고하지 않은 노드가 포함되지 않습니다.

. Used(%) * 값이 70% 이상인 경우 각 사이트에 스토리지 노드를 추가하여 StorageGRID 시스템을 확장합니다.
+

IMPORTANT: 사용된 값(%) * 값이 특정 임계값에 도달하면 * Low metadata storage * 경고가 트리거됩니다. 오브젝트 메타데이터에서 허용되는 공간의 100% 이상을 사용하는 경우 바람직하지 않은 결과가 발생할 수 있습니다.

+
새 노드를 추가하면 시스템에서 사이트 내의 모든 스토리지 노드에서 개체 메타데이터를 자동으로 재조정합니다. 를 참조하십시오 xref:../expand/index.adoc[StorageGRID 시스템 확장을 위한 지침].


