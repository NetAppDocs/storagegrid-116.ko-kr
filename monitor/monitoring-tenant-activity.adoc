---
permalink: monitor/monitoring-tenant-activity.html 
sidebar: sidebar 
keywords: how to monitor tenant activity 
summary: 모든 클라이언트 작업이 테넌트 계정과 연결되어 있습니다. 그리드 관리자를 사용하여 테넌트의 스토리지 사용 또는 네트워크 트래픽을 모니터링하거나 감사 로그 또는 Grafana 대시보드를 사용하여 테넌트가 StorageGRID를 사용하는 방법에 대한 자세한 정보를 수집할 수 있습니다. 
---
= 테넌트 작업을 모니터링합니다
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
모든 클라이언트 작업이 테넌트 계정과 연결되어 있습니다. 그리드 관리자를 사용하여 테넌트의 스토리지 사용 또는 네트워크 트래픽을 모니터링하거나 감사 로그 또는 Grafana 대시보드를 사용하여 테넌트가 StorageGRID를 사용하는 방법에 대한 자세한 정보를 수집할 수 있습니다.

.무엇을 &#8217;필요로 할거야
* 를 사용하여 그리드 관리자에 로그인했습니다 xref:../admin/web-browser-requirements.adoc[지원되는 웹 브라우저].
* 루트 액세스 또는 관리자 권한이 있습니다.


.이 작업에 대해

IMPORTANT: 사용된 공간 값은 추정값입니다. 이러한 추정치는 베스트 타이밍, 네트워크 연결 및 노드 상태의 영향을 받습니다.

.단계
. 모든 테넌트가 사용하는 스토리지 양을 검토하려면 * Tenants * 를 선택합니다.
+
사용된 논리적 공간, 할당량 사용률, 할당량 및 객체 수가 각 테넌트에 대해 나열됩니다. 할당량이 테넌트에 대해 설정되지 않은 경우 할당량 사용률과 할당량 필드에는 대시(&#8212;)가 포함됩니다.

+
image::../media/tenant_accounts_page.png[테넌트 계정 페이지입니다]

+
로그인 링크를 선택하여 테넌트 계정에 로그인할 수 있습니다 image:../media/icon_tenant_sign_in.png["테넌트 로그인 아이콘"] 테이블의 * 로그인/URL 복사 * 열에 있습니다.

+
URL 복사 링크를 선택하여 테넌트의 로그인 페이지에 대한 URL을 복사할 수 있습니다 image:../media/icon_tenant_copy_url.png["테넌트 복사 URL 아이콘"] 테이블의 * 로그인/URL 복사 * 열에 있습니다.

. 필요한 경우 * CSV로 내보내기 * 를 선택하여 모든 테넌트의 사용 값이 포함된 .csv 파일을 보고 내보냅니다.
+
'.csv' 파일을 열거나 저장하라는 메시지가 표시됩니다.

+
CSV 파일의 내용은 다음 예제와 같습니다.

+
image::../media/tenant_accounts_example_csv.png[테넌트 계정 예 .csv]

+
스프레드시트 응용 프로그램에서 .csv 파일을 열거나 자동화 시 사용할 수 있습니다.

. 사용 차트를 비롯한 특정 테넌트의 세부 정보를 보려면 테넌트 페이지에서 테넌트 계정 이름을 선택합니다.
+
image::../media/tenant_usage_modal.png[테넌트 사용 모달]

+
** * 테넌트 개요 *
+
테넌트의 개요 영역에는 개체 수, 할당량 사용률, 사용된 논리적 공간 및 할당량 설정에 대한 값이 포함되어 있습니다.

** * 공간 분석 -- 공간 소비 *
+
공간 분석 탭에는 버킷(S3) 또는 컨테이너(Swift)의 총 공간 소비에 대한 값과 각 버킷 또는 컨테이너에 사용된 공간 및 오브젝트 수가 포함됩니다.

+
이 테넌트에 대해 할당량이 설정된 경우 사용된 할당량과 남은 할당량이 텍스트로 표시됩니다(예: 사용된 100GB의 85.00GB). 할당량이 설정되어 있지 않으면 테넌트에 무제한 할당량이 있고 텍스트에 사용된 공간(예: 85.00GB 사용됨)만 포함됩니다. 막대 차트는 각 버킷 또는 컨테이너의 할당량 백분율을 보여 줍니다. 테넌트가 스토리지 할당량을 1% 이상 초과하고 1GB 이상 초과한 경우 총 할당량과 초과 금액이 차트에 표시됩니다.

+
막대 차트 위에 커서를 놓으면 각 버킷이나 컨테이너에서 사용하는 저장소를 볼 수 있습니다. 사용 가능한 공간 세그먼트 위에 커서를 놓으면 남은 스토리지 할당량 크기를 확인할 수 있습니다.

+
image::../media/tenant_bucket_space_consumption_GM.png[테넌트 버킷 소비 막대 차트]

+

IMPORTANT: 할당량 활용도는 내부 추정치에 기반하며 경우에 따라 초과될 수 있습니다. 예를 들어, 테넌트가 객체를 업로드하기 시작할 때 StorageGRID는 할당량을 확인하고 테넌트가 할당량을 초과할 경우 새 베스트(ingest)를 거부합니다. 그러나 StorageGRID에서는 할당량이 초과되었는지 확인할 때 현재 업로드 크기를 고려하지 않습니다. 개체를 삭제하면 할당량 활용률이 다시 계산될 때까지 테넌트가 일시적으로 새 개체를 업로드하지 못할 수 있습니다. 할당량 사용률 계산에는 10분 이상이 소요될 수 있습니다.

+

NOTE: 테넌트의 할당량 활용도는 테넌트가 StorageGRID에 업로드한 총 객체 데이터 양(논리적 크기)을 나타냅니다. 할당량 활용은 해당 객체와 해당 메타데이터(물리적 크기)의 복사본을 저장하는 데 사용되는 공간을 나타내지 않습니다.

+

NOTE: 테넌트 할당량 사용량 높음 * 알림을 설정하여 테넌트가 할당량을 사용하고 있는지 확인할 수 있습니다. 활성화된 경우 테넌트가 할당량의 90%를 사용한 경우 이 경고가 트리거됩니다. 자세한 내용은 알림 참조 를 참조하십시오.

** * 공간 분석 -- 버킷 또는 컨테이너 세부 정보 *
+
Bucket details * (S3) 또는 * Container details * (Swift) 테이블에는 테넌트의 버킷 또는 컨테이너가 나열됩니다. 사용된 공간 은 버킷 또는 컨테이너에 있는 오브젝트 데이터의 총 양입니다. 이 값은 ILM 복사본 및 개체 메타데이터에 필요한 스토리지 공간을 나타내지 않습니다.



. 필요에 따라 * CSV로 내보내기 * 를 선택하여 각 버킷 또는 컨테이너의 사용량 값이 포함된 .csv 파일을 보고 내보냅니다.
+
개별 S3 테넌트의 .csv 파일 내용은 다음 예제와 같습니다.

+
image::../media/tenant_bucket_details_csv.png[테넌트 버킷 세부 정보 CSV 예]

+
스프레드시트 응용 프로그램에서 .csv 파일을 열거나 자동화 시 사용할 수 있습니다.

. 테넌트를 위한 트래픽 분류 정책이 마련되어 있는 경우 해당 테넌트의 네트워크 트래픽을 검토하십시오.
+
.. 구성 * > * 네트워크 * > * 트래픽 분류 * 를 선택합니다.
+
트래픽 분류 정책 페이지가 나타나고 기존 정책이 표에 나열됩니다.

+
image::../media/traffic_classification_policies_main_screen_w_examples.png[그래프 트래픽 정책 예]

.. 정책 목록을 검토하여 특정 테넌트에 적용되는 정책을 식별합니다.
.. 정책과 관련된 메트릭을 보려면 정책 왼쪽의 라디오 버튼을 선택한 다음 * Metrics * 를 클릭합니다.
.. 그래프를 분석하여 정책에 따라 트래픽이 제한되는 빈도와 정책을 조정해야 하는지 여부를 결정합니다.
+
트래픽 분류 정책을 생성, 편집 또는 삭제하려면 StorageGRID 관리 지침을 참조하십시오.



. 필요에 따라 감사 로그를 사용하여 테넌트의 활동을 보다 세부적으로 모니터링할 수 있습니다.
+
예를 들어 다음과 같은 유형의 정보를 모니터링할 수 있습니다.

+
** Put, Get 또는 Delete 같은 특정 클라이언트 작업입니다
** 개체 크기
** 개체에 적용된 ILM 규칙
** 클라이언트 요청의 소스 IP입니다
+
감사 로그는 선택한 로그 분석 도구를 사용하여 분석할 수 있는 텍스트 파일에 기록됩니다. 이를 통해 클라이언트 활동을 더 잘 이해하거나 정교한 차지백 및 청구 모델을 구현할 수 있습니다.

+
자세한 내용은 감사 메시지 이해를 위한 지침을 참조하십시오.



. 선택적으로 Prometheus 메트릭을 사용하여 테넌트 활동을 보고합니다.
+
** Grid Manager에서 * 지원 * > * 도구 * > * 메트릭 * 을 선택합니다. S3 개요와 같은 기존 대시보드를 사용하여 클라이언트 작업을 검토할 수 있습니다.
+

IMPORTANT: 메트릭 페이지에서 사용할 수 있는 도구는 주로 기술 지원 부서에서 사용하도록 설계되었습니다. 이러한 도구 내의 일부 기능 및 메뉴 항목은 의도적으로 작동하지 않습니다.

** Grid Manager 상단에서 도움말 아이콘을 선택하고 * API Documentation * 을 선택합니다. Grid Management API의 Metrics(메트릭) 섹션에 있는 메트릭을 사용하여 테넌트 활동에 대한 사용자 지정 알림 규칙 및 대시보드를 생성할 수 있습니다.




xref:alerts-reference.adoc[경고 참조]

xref:../audit/index.adoc[감사 로그를 검토합니다]

xref:../admin/index.adoc[StorageGRID 관리]

xref:reviewing-support-metrics.adoc[지원 메트릭을 검토합니다]
