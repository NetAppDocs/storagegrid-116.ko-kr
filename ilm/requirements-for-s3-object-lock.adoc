---
permalink: ilm/requirements-for-s3-object-lock.html 
sidebar: sidebar 
keywords: requirements, s3 object lock 
summary: 글로벌 S3 오브젝트 잠금 설정을 사용하기 위한 요구사항, 호환되는 ILM 규칙 및 ILM 정책을 만들기 위한 요구사항 및 StorageGRID가 S3 오브젝트 잠금을 사용하는 버킷과 오브젝트에 배치하는 제한을 검토해야 합니다. 
---
= S3 오브젝트 잠금에 대한 요구사항
:icons: font
:imagesdir: ../media/


[role="lead"]
글로벌 S3 오브젝트 잠금 설정을 사용하기 위한 요구사항, 호환되는 ILM 규칙 및 ILM 정책을 만들기 위한 요구사항 및 StorageGRID가 S3 오브젝트 잠금을 사용하는 버킷과 오브젝트에 배치하는 제한을 검토해야 합니다.



== 전역 S3 오브젝트 잠금 설정 사용 요구 사항

* S3 테넌트가 S3 오브젝트 잠금이 활성화된 버킷을 생성하려면 먼저 그리드 관리자 또는 그리드 관리 API를 사용하여 글로벌 S3 오브젝트 잠금 설정을 활성화해야 합니다.
* 글로벌 S3 오브젝트 잠금 설정을 활성화하면 모든 S3 테넌트 계정에서 S3 오브젝트 잠금이 설정된 버킷을 생성할 수 있습니다.
* 전역 S3 오브젝트 잠금 설정을 활성화한 후에는 설정을 비활성화할 수 없습니다.
* 활성 ILM 정책의 기본 규칙이 _호환_(즉, 기본 규칙이 S3 오브젝트 잠금이 활성화된 버킷의 요구 사항을 준수해야 함)인 경우에만 전역 S3 오브젝트 잠금을 활성화할 수 있습니다.
* 전역 S3 개체 잠금 설정이 활성화된 경우 정책의 기본 규칙이 규정을 준수하지 않는 한 새로 제안된 ILM 정책을 생성하거나 기존의 제안된 ILM 정책을 활성화할 수 없습니다. 전역 S3 개체 잠금 설정이 활성화된 후 ILM 규칙 및 ILM 정책 페이지는 어떤 ILM 규칙이 준수되는지 나타냅니다.
+
다음 예제에서 ILM 규칙 페이지에는 S3 오브젝트 잠금이 활성화된 버킷과 호환되는 세 가지 규칙이 나열되어 있습니다.

+
image::../media/compliance_fields_on_ilm_rules_page.png[ILM 규칙 페이지의 준수 필드]





== 규정 준수 ILM 규칙 요구 사항

전역 S3 오브젝트 잠금 설정을 활성화하려면 활성 ILM 정책의 기본 규칙이 준수되는지 확인해야 합니다. 규정 준수 규칙은 S3 오브젝트 잠금이 활성화된 두 버킷의 요구 사항과 레거시 규정 준수가 활성화된 기존 버킷의 요구 사항을 모두 충족합니다.

* 복제된 오브젝트 복사본 2개 이상 또는 삭제 코딩 복사본 1개를 생성해야 합니다.
* 이러한 복제본은 배치 지침에서 각 행의 전체 기간 동안 스토리지 노드에 있어야 합니다.
* 오브젝트 복사본은 클라우드 스토리지 풀에 저장할 수 없습니다.
* 오브젝트 복사본은 아카이브 노드에 저장할 수 없습니다.
* 최소 한 줄의 배치 지침은 * Ingest Time * 을 기준 시간으로 사용하여 0일에 시작해야 합니다.
* 적어도 한 줄의 배치 지침은 영원히 있어야 합니다.


예를 들어 이 규칙은 S3 오브젝트 잠금이 설정된 버킷의 요구 사항을 충족합니다. 이 제품은 Ingest Time(0일)에서 ""Forever""로 복제된 오브젝트 복사본 2개를 저장합니다. 오브젝트는 두 데이터 센터의 스토리지 노드에 저장됩니다.

image::../media/compliant_rule_two_copies_forever.png[예제 규정 준수 규칙 두 개의 복사본을 영구적으로 만듭니다]



== 활성 및 제안된 ILM 정책에 대한 요구 사항

전역 S3 개체 잠금 설정이 활성화되면 활성 및 제안된 ILM 정책에 규정 준수 및 비준수 규칙이 모두 포함될 수 있습니다.

* 활성 또는 제안된 ILM 정책의 기본 규칙은 반드시 준수해야 합니다.
* 비준수 규칙은 S3 오브젝트 잠금이 활성화되지 않았거나 레거시 규정 준수 기능이 활성화되지 않은 버킷의 오브젝트에만 적용됩니다.
* 규정 준수 규칙은 모든 버킷의 오브젝트에 적용할 수 있습니다. 버킷에 대해 S3 오브젝트 잠금이나 레거시 규정 준수를 활성화할 필요는 없습니다.


호환되는 ILM 정책에는 다음 세 가지 규칙이 포함될 수 있습니다.

. S3 오브젝트 잠금이 설정된 특정 버킷에서 오브젝트의 삭제 코딩 복사본을 생성하는 규정 준수 규칙 EC 복사본은 0일째부터 영원까지 스토리지 노드에 저장됩니다.
. 1년 동안 스토리지 노드에 복제된 오브젝트 복사본 2개를 생성한 다음 오브젝트 복사본 하나를 아카이브 노드로 이동하여 복사본을 영구히 저장하는 규정을 준수하지 않습니다. 이 규칙은 S3 오브젝트 잠금이나 레거시 규정 준수를 사용하지 않는 버킷에만 적용됩니다. 왜냐하면 단일 오브젝트 복사본만 영구 저장하고 아카이브 노드를 사용하기 때문입니다.
. 스토리지 노드에 2개의 복제된 오브젝트 복사본을 만드는 기본 규정 준수 규칙입니다. 이 규칙은 처음 두 규칙에 의해 필터링되지 않은 버킷의 모든 오브젝트에 적용됩니다.




== S3 오브젝트 잠금이 설정된 버킷의 요구 사항

* StorageGRID 시스템에 대해 글로벌 S3 오브젝트 잠금 설정이 활성화된 경우 테넌트 관리자, 테넌트 관리 API 또는 S3 REST API를 사용하여 S3 오브젝트 잠금이 활성화된 버킷을 생성할 수 있습니다.
+
테넌트 관리자의 이 예에서는 S3 오브젝트 잠금이 설정된 버킷을 보여 줍니다.

+
image::../media/compliant_bucket.png[준수 버킷의 예]

* S3 오브젝트 잠금을 사용하려는 경우 버킷을 생성할 때 S3 오브젝트 잠금을 활성화해야 합니다. 기존 버킷에 대해 S3 오브젝트 잠금을 활성화할 수 없습니다.
* S3 오브젝트 잠금에서 버킷 버전 관리가 필요합니다. 버킷에 대해 S3 오브젝트 잠금이 활성화된 경우 StorageGRID는 해당 버킷의 버전 관리를 자동으로 활성화합니다.
* S3 오브젝트 잠금이 설정된 버킷을 생성한 후에는 해당 버켓에 대한 S3 오브젝트 잠금을 비활성화하거나 버전 관리를 일시 중단할 수 없습니다.
* 필요에 따라 버킷의 기본 보존을 구성할 수 있습니다. 개체 버전이 업로드되면 기본 보존 기간이 개체 버전에 적용됩니다. 객체 버전 업로드 요청에 보존 모드와 보존 기간을 지정하여 버킷 기본값을 재정의할 수 있습니다.
* S3 오브젝트 라이프사이클 버킷에 대해 버킷 라이프사이클 구성이 지원됩니다.
* S3 오브젝트 잠금이 설정된 버킷에는 CloudMirror 복제가 지원되지 않습니다.




== S3 오브젝트 잠금이 설정된 버킷의 오브젝트 요구사항

* 오브젝트 버전을 보호하려면 S3 클라이언트 애플리케이션이 버킷 기본 보존을 구성하거나 각 업로드 요청에서 보존 설정을 지정해야 합니다.
* 개체 버전에 대한 보존 기간을 늘릴 수 있지만 이 값을 줄일 수는 없습니다.
* 법적 조치 또는 규제 조사가 보류 중인 경우 개체 버전에 법적 증거 자료를 두어 관련 정보를 보존할 수 있습니다. 개체 버전이 법적 증거 자료 보관 중인 경우, 해당 개체가 보존 기한 에 도달한 경우에도 StorageGRID에서 해당 개체를 삭제할 수 없습니다. 법적 증거 자료 보관 기간이 해제됨과 동시에, 보존 기한이 만료된 경우 개체 버전을 삭제할 수 있습니다.
* S3 오브젝트 잠금에는 버전 관리되는 버킷을 사용해야 합니다. 보존 설정은 개별 개체 버전에 적용됩니다. 개체 버전에는 보존 기한 및 법적 보류 설정이 둘 다 있을 수 있으며, 둘 중 하나만 설정할 수도 있고 둘 다 가질 수도 없습니다. 개체에 대한 보존 기한 또는 법적 보류 설정을 지정하면 요청에 지정된 버전만 보호됩니다. 이전 버전의 개체는 잠겨 있는 상태에서 새 버전의 개체를 만들 수 있습니다.




== S3 오브젝트 잠금이 설정된 버킷의 오브젝트 라이프사이클

S3 오브젝트 잠금이 설정된 버킷에 저장된 각 오브젝트는 다음 3단계를 거칩니다.

. * 오브젝트 수집 *
+
** S3 오브젝트 잠금이 설정된 버킷에 오브젝트 버전을 추가할 경우 S3 클라이언트 애플리케이션이 기본 버킷 보존 설정을 사용하거나 선택적으로 오브젝트에 대한 보존 설정을 지정할 수 있습니다(보존 기한, 법적 보류 또는 둘 다). 그런 다음 StorageGRID에서는 해당 개체의 메타데이터를 생성하며 고유한 UUID(Object Identifier)와 수집 날짜 및 시간이 포함됩니다.
** 보존 설정이 포함된 오브젝트 버전을 수집하면 해당 데이터와 S3 사용자 정의 메타데이터를 수정할 수 없습니다.
** StorageGRID는 오브젝트 메타데이터를 오브젝트 데이터와 독립적으로 저장합니다. 이 기능은 각 사이트에서 모든 오브젝트 메타데이터의 복사본을 3개 유지 관리합니다.


. * 개체 보존 *
+
** 개체의 여러 복사본이 StorageGRID에 저장됩니다. 정확한 복제본 수와 유형 및 스토리지 위치는 활성 ILM 정책의 규정 준수 규칙에 따라 결정됩니다.


. * 개체 삭제 *
+
** 보존 기한 에 도달하면 개체를 삭제할 수 있습니다.
** 법적 증거 자료 보관 중인 개체는 삭제할 수 없습니다.




.관련 정보
* xref:../tenant/index.adoc[테넌트 계정을 사용합니다]
* xref:../s3/index.adoc[S3을 사용합니다]
* xref:managing-objects-with-s3-object-lock.adoc#comparing-s3-object-lock-to-legacy-compliance[S3 오브젝트 잠금을 레거시 규정 준수와 비교합니다]
* xref:example-7-compliant-ilm-policy-for-s3-object-lock.adoc[예 7: S3 오브젝트 잠금에 대한 규정 준수 ILM 정책]
* xref:../audit/index.adoc[감사 로그를 검토합니다]
* xref:../s3/operations-on-buckets.adoc#using-s3-object-lock-default-bucket-retention[S3 오브젝트 잠금 기본 버킷 보존을 사용합니다].

