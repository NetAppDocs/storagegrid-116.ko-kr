---
permalink: ilm/using-multiple-storage-pools-for-cross-site-replication.html 
sidebar: sidebar 
keywords: site-loss protection, cross-site replication, storage pools 
summary: StorageGRID 배포에 사이트가 두 개 이상 포함된 경우 각 사이트에 대해 스토리지 풀을 생성하고 규칙의 배치 지침에 두 스토리지 풀을 모두 지정하여 사이트 손실 보호를 설정할 수 있습니다. 예를 들어, ILM 규칙을 구성하여 두 개의 복제된 복사본을 만들고 두 사이트의 스토리지 풀을 지정하는 경우 각 개체의 복사본이 각 사이트에 배치됩니다. 복제본을 두 개 생성하고 스토리지 풀을 세 개 지정하도록 규칙을 구성하면 복제본이 분산되어 스토리지 풀 간에 디스크 사용량을 분산하고 두 복제본이 서로 다른 사이트에 저장되도록 합니다. 
---
= 사이트 간 복제에 여러 스토리지 풀을 사용합니다
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
StorageGRID 구축에 사이트가 두 개 이상 포함된 경우 각 사이트에 대해 스토리지 풀을 생성하고 규칙 배치 지침에 두 스토리지 풀을 모두 지정하여 사이트 손실 보호를 설정할 수 있습니다. 예를 들어, ILM 규칙을 구성하여 두 개의 복제된 복사본을 만들고 두 사이트의 스토리지 풀을 지정하는 경우 각 개체의 복사본이 각 사이트에 배치됩니다. 복제본을 두 개 생성하고 스토리지 풀을 세 개 지정하도록 규칙을 구성하면 복제본이 분산되어 스토리지 풀 간에 디스크 사용량을 분산하고 두 복제본이 서로 다른 사이트에 저장되도록 합니다.

다음 예에서는 ILM 규칙이 두 사이트의 스토리지 노드가 포함된 단일 스토리지 풀에 복제된 오브젝트 복사본을 배치하는 경우 발생할 수 있는 작업을 보여 줍니다. 시스템은 복제된 복사본을 저장할 때 스토리지 풀에서 사용 가능한 노드를 사용하기 때문에 사이트 중 하나에 일부 객체의 모든 복제본을 배치할 수 있습니다. 이 예에서 시스템은 사이트 1의 스토리지 노드에 2개의 AAA 객체 복사본과 사이트 2의 스토리지 노드에 CCC 객체 복사본을 저장했습니다. 사이트 중 하나에 장애가 발생하거나 액세스할 수 없게 되면 객체 BBB만 보호됩니다.

image::../media/ilm_replication_make_2_copies_1_pool_2_sites.png[두 사이트에서 복제본 2개를 하나의 스토리지 풀만 구성하는 것이 좋습니다]

반면, 이 예제에서는 여러 스토리지 풀을 사용할 때 객체가 저장되는 방식을 보여 줍니다. 이 예제에서 ILM 규칙은 각 개체의 복제된 복사본 2개를 생성하고 해당 복사본을 두 스토리지 풀에 분산하도록 지정합니다. 각 스토리지 풀에는 한 사이트의 모든 스토리지 노드가 포함됩니다. 각 개체의 복사본은 각 사이트에 저장되므로 사이트 장애나 액세스 불가능성 으로부터 개체 데이터가 보호됩니다.

image::../media/ilm_replication_make_2_copies_2_pools_2_sites.png[2개의 사이트와 2개의 스토리지 풀에서 2개의 복제본 규칙을 만듭니다]

여러 스토리지 풀을 사용할 때는 다음 규칙을 염두에 두십시오.

* n개의 복제본을 생성하는 경우 n 개 이상의 스토리지 풀을 추가해야 합니다. 예를 들어, 규칙이 세 개의 복제본을 만들 수 있도록 구성된 경우 스토리지 풀을 세 개 이상 지정해야 합니다.
* 복제본 수가 스토리지 풀 수와 같으면 객체 복제본 하나가 각 스토리지 풀에 저장됩니다.
* 복제본 수가 스토리지 풀 수보다 적은 경우 시스템은 복제본을 분산하여 풀 간에 디스크 사용량을 균형 있게 유지하고 두 개 이상의 복제본이 동일한 스토리지 풀에 저장되지 않도록 합니다.
* 스토리지 풀이 겹칠 경우(동일한 스토리지 노드 포함) 개체의 모든 복제본이 하나의 사이트에만 저장될 수 있습니다. 선택한 스토리지 풀에 동일한 스토리지 노드가 포함되어 있지 않은지 확인해야 합니다.

