---
permalink: maintain/restoring-network-connectivity-for-isolated-nodes.html 
sidebar: sidebar 
keywords: storagegrid, recover, network connection, restore network connection, isolated node, restore isolated node connection 
summary: 사이트 또는 그리드 전체 IP 주소 변경과 같은 특정 상황에서는 하나 이상의 노드 그룹이 나머지 그리드에 연결되지 않을 수 있습니다. 
---
= 격리된 노드의 네트워크 연결을 복구합니다
:icons: font
:imagesdir: ../media/


[role="lead"]
사이트 또는 그리드 전체 IP 주소 변경과 같은 특정 상황에서는 하나 이상의 노드 그룹이 나머지 그리드에 연결되지 않을 수 있습니다.

Grid Manager(* support*>* Tools*>* Grid topology*)에서 노드가 회색이거나, 실행 중이 아닌 다른 상태를 표시하는 서비스 중 많은 서비스가 있는 파란색 노드인 경우 노드 격리를 확인해야 합니다.

image::../media/dynamic_ip_service_not_running.gif[스크린샷]

분리된 노드가 있을 경우 다음과 같은 결과가 발생할 수 있습니다.

* 여러 노드가 격리된 경우 에 로그인하거나 Grid Manager에 액세스하지 못할 수 있습니다.
* 여러 노드가 격리된 경우 테넌트 관리자의 대시보드에 표시되는 스토리지 사용량 및 할당량 값이 최신 상태가 아닐 수 있습니다. 네트워크 연결이 복원되면 합계가 업데이트됩니다.


격리 문제를 해결하려면 격자에서 격리된 각 격리된 노드나 그룹의 한 노드(기본 관리 노드를 포함하지 않는 서브넷의 모든 노드)에서 명령줄 유틸리티를 실행합니다. 이 유틸리티는 노드가 격자에서 격리되지 않은 노드의 IP 주소를 제공하여 격리된 노드 또는 노드 그룹이 전체 그리드에 다시 접속하도록 합니다.


NOTE: 네트워크에서 mDNS(multicast Domain Name System)를 사용하지 않도록 설정한 경우 격리된 각 노드에서 명령줄 유틸리티를 실행해야 할 수 있습니다.

. 노드를 액세스하고 격리 메시지에 대해 '/var/local/log/dynip.log'를 확인합니다.
+
예를 들면 다음과 같습니다.

+
[listing]
----
[2018-01-09T19:11:00.545] UpdateQueue - WARNING -- Possible isolation, no contact with other nodes.
If this warning persists, manual action may be required.
----
+
VMware 콘솔을 사용 중인 경우 노드를 격리할 수 있다는 메시지가 표시됩니다.

+
Linux 배포에서 격리 메시지는 "/var/log/StorageGrid/node/<nodename>.log" 파일에 나타납니다.

. 격리 메시지가 반복되고 영구인 경우 다음 명령을 실행합니다.
+
' add_node_ip.py <address>'

+
여기서 "<address>"는 그리드에 연결된 원격 노드의 IP 주소입니다.

+
[listing]
----
# /usr/sbin/add_node_ip.py  10.224.4.210

Retrieving local host information
Validating remote node at address 10.224.4.210
Sending node IP hint for 10.224.4.210 to local node
Local node found on remote node. Update complete.
----
. 이전에 격리된 각 노드에 대해 다음을 확인합니다.
+
** 노드의 서비스가 시작되었습니다.
** Dynamic IP Service의 상태는 'toragegrid-status' 명령어를 실행한 후 'Running' 상태가 된다.
** Grid Topology(그리드 토폴로지) 트리에서 노드가 더 이상 나머지 그리드에서 연결 해제된 것으로 나타나지 않습니다.





IMPORTANT: add_node_ip.py 명령을 실행해도 문제가 해결되지 않으면 해결해야 할 다른 네트워킹 문제가 있을 수 있습니다.
