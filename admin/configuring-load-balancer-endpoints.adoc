---
permalink: admin/configuring-load-balancer-endpoints.html 
sidebar: sidebar 
keywords: how to configure load balancer endpoint, how to attach certificate to load balancer endpoint 
summary: 로드 밸런서 끝점은 게이트웨이 및 관리 노드의 StorageGRID 로드 밸런서에 연결할 때 사용할 수 있는 포트 및 네트워크 프로토콜 S3 및 Swift 클라이언트를 결정합니다. 
---
= 로드 밸런서 엔드포인트를 구성합니다
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
로드 밸런서 끝점은 게이트웨이 및 관리 노드의 StorageGRID 로드 밸런서에 연결할 때 사용할 수 있는 포트 및 네트워크 프로토콜 S3 및 Swift 클라이언트를 결정합니다.

.무엇을 &#8217;필요로 할거야
* 를 사용하여 그리드 관리자에 로그인했습니다 xref:../admin/web-browser-requirements.adoc[지원되는 웹 브라우저].
* 루트 액세스 권한이 있습니다.
* 로드 밸런서 끝점에 사용할 포트를 이전에 다시 매핑한 경우 xref:../maintain/removing-port-remaps.adoc[포트 재맵을 제거했습니다].
* 사용할 고가용성(HA) 그룹을 만들었습니다. HA 그룹이 권장되지만 필수는 아닙니다. 을 참조하십시오 xref:managing-high-availability-groups.adoc[고가용성 그룹을 관리합니다].
* 에서 로드 밸런서 끝점을 사용하는 경우 xref:../admin/manage-s3-select-for-tenant-accounts.adoc[S3 테넌트를 선택합니다], Bare-Metal 노드의 IP 주소 또는 FQDN을 사용해서는 안 됩니다. S3 Select에 사용되는 로드 밸런싱 장치 엔드포인트에는 SG100 또는 SG1000 어플라이언스 및 VMware 기반 소프트웨어 노드만 허용됩니다.
* 사용할 VLAN 인터페이스를 구성했습니다. 을 참조하십시오 xref:configure-vlan-interfaces.adoc[VLAN 인터페이스를 구성합니다].
* HTTPS 끝점을 만드는 경우(권장) 서버 인증서에 대한 정보가 있습니다.
+

NOTE: 끝점 인증서 변경 내용을 모든 노드에 적용하는 데 최대 15분이 걸릴 수 있습니다.

+
** 인증서를 업로드하려면 서버 인증서, 인증서 개인 키 및 선택적으로 CA 번들이 필요합니다.
** 인증서를 생성하려면 S3 또는 Swift 클라이언트가 끝점에 액세스하는 데 사용할 모든 도메인 이름과 IP 주소가 필요합니다. 제목(고유 이름)도 알아야 합니다.
** StorageGRID S3 및 Swift API 인증서(스토리지 노드에 직접 연결하는 데에도 사용 가능)를 사용하려면 이미 기본 인증서를 외부 인증 기관에서 서명한 사용자 지정 인증서로 교체했습니다. 을 참조하십시오xref:../admin/configuring-custom-server-certificate-for-storage-node-or-clb.adoc[S3 및 Swift API 인증서를 구성합니다].
+
이 인증서는 와일드카드를 사용하여 로드 밸런서 서비스를 실행하는 모든 관리 노드 및 게이트웨이 노드의 정규화된 도메인 이름을 나타낼 수 있습니다. 예를 들어, '* .storagegrid._example_.com'은 ' adm1.storagegrid._example_.com ' 및 ' gn1.storagegrid._example_.com ' 을 나타내는 * 와일드카드를 사용합니다. 을 참조하십시오 xref:configuring-s3-api-endpoint-domain-names.adoc[S3 API 엔드포인트 도메인 이름을 구성합니다].







== 로드 밸런서 끝점을 만듭니다

각 로드 밸런서 끝점은 포트, 클라이언트 유형(S3 또는 Swift) 및 네트워크 프로토콜(HTTP 또는 HTTPS)을 지정합니다.



=== 마법사에 액세스합니다

. 구성 * > * 네트워크 * > * 로드 밸런서 엔드포인트 * 를 선택합니다.
. Create * 를 선택합니다.




=== 끝점 세부 정보를 입력합니다

. 끝점의 세부 정보를 입력합니다.
+
image::../media/load_balancer_endpoint_create_http.png[LB 끝점 작성]

+
[cols="1a,3a"]
|===
| 필드에 입력합니다 | 설명 


 a| 
이름
 a| 
Load Balancer Endpoints(분산 장치 끝점 로드) 페이지의 테이블에 표시되는 끝점에 대한 설명 이름입니다.



 a| 
포트
 a| 
포트 클라이언트는 를 사용하여 관리 노드 및 게이트웨이 노드의 로드 밸런서 서비스에 연결합니다.

제안된 포트 번호를 수락하거나 다른 그리드 서비스에서 사용되지 않는 외부 포트를 입력합니다. 1에서 65535 사이의 값을 입력합니다.

80 * 또는 * 443 * 을 입력하면 끝점이 게이트웨이 노드에서만 구성됩니다. 이러한 포트는 관리 노드에 예약되어 있습니다.

를 참조하십시오 xref:../network/index.adoc[네트워킹 지침] 외부 포트에 대한 자세한 내용은 를 참조하십시오.



 a| 
클라이언트 유형입니다
 a| 
이 끝점을 사용할 클라이언트 응용 프로그램 유형, * S3 * 또는 * Swift *.



 a| 
네트워크 프로토콜
 a| 
클라이언트가 이 끝점에 연결할 때 사용할 네트워크 프로토콜입니다.

** TLS 암호화 보안 통신을 위해 * HTTPS * 를 선택합니다(권장). 끝점을 저장하려면 먼저 보안 인증서를 연결해야 합니다.
** 보안이 취약한 암호화되지 않은 통신을 위해 * HTTP * 를 선택합니다. 비 프로덕션 그리드에만 HTTP를 사용합니다.


|===
. Continue * 를 선택합니다.




=== 바인딩 모드를 선택합니다

. 끝점에 대한 바인딩 모드를 선택하여 끝점에 액세스하는 방법을 제어합니다.
+
[cols="1a,3a"]
|===
| 옵션을 선택합니다 | 설명 


 a| 
글로벌(기본값)
 a| 
클라이언트는 FQDN(정규화된 도메인 이름), 게이트웨이 노드 또는 관리 노드의 IP 주소 또는 네트워크에 있는 HA 그룹의 가상 IP 주소를 사용하여 끝점에 액세스할 수 있습니다.

이 끝점의 접근성을 제한할 필요가 없는 경우 * Global * (글로벌 *) 설정(기본값)을 사용합니다.



 a| 
노드 인터페이스
 a| 
클라이언트는 선택한 노드와 네트워크 인터페이스의 IP 주소를 사용하여 이 끝점에 액세스해야 합니다.



 a| 
HA 그룹의 가상 IP입니다
 a| 
클라이언트는 이 끝점에 액세스하기 위해 HA 그룹의 가상 IP 주소를 사용해야 합니다.

이 바인딩 모드의 엔드포인트는 엔드포인트에 대해 선택한 HA 그룹이 겹치지 않는 한 모두 동일한 포트 번호를 사용할 수 있습니다.

이 모드를 사용하는 끝점은 끝점에 대해 선택한 인터페이스가 겹치지 않는 한 모두 동일한 포트 번호를 사용할 수 있습니다.

|===
+

NOTE: 두 개 이상의 끝점에 대해 동일한 포트를 사용하는 경우 * HA 그룹의 가상 IP * 모드를 사용하는 끝점은 * 글로벌 * 모드를 사용하여 끝점을 재정의하는 * 노드 인터페이스 * 모드를 사용하는 끝점에 우선합니다.

. 노드 인터페이스 * 를 선택한 경우 이 끝점과 연결할 각 관리 노드 또는 게이트웨이 노드에 대해 하나 이상의 노드 인터페이스를 선택합니다.
+
image::../media/load_balancer_endpoint_node_interfaces_binding_mode.png[끝점 노드 인터페이스의 바인딩 모드입니다]

. HA 그룹의 가상 IP * 를 선택한 경우 하나 이상의 HA 그룹을 선택합니다.
+
image::../media/load_balancer_endpoint_ha_group_vips_binding_mode.png[Endpoint HA 그룹 VIP 바인딩 모드]

. HTTP* 끝점을 만드는 경우에는 인증서를 첨부할 필요가 없습니다. 새 로드 밸런서 끝점을 추가하려면 * Create * 를 선택합니다. 그런 다음 로 이동합니다 <<After-you-finish,작업을 마친 후>>. 그렇지 않으면 * 계속 * 을 선택하여 인증서를 첨부하십시오.




=== 인증서를 첨부합니다

. HTTPS* 끝점을 만드는 경우 끝점에 연결할 보안 인증서 유형을 선택합니다.
+
인증서는 S3 및 Swift 클라이언트와 관리 노드 또는 게이트웨이 노드의 로드 밸런서 서비스 간의 연결을 보호합니다.

+
** * 인증서 업로드 *. 업로드할 사용자 지정 인증서가 있는 경우 이 옵션을 선택합니다.
** * 인증서 생성 *. 사용자 지정 인증서를 생성하는 데 필요한 값이 있는 경우 이 옵션을 선택합니다.
** * StorageGRID S3 및 Swift 인증서 사용 *. 글로벌 S3 및 Swift API 인증서를 사용하려면 이 옵션을 선택합니다. 스토리지 노드에 직접 연결하는 데에도 이 인증서를 사용할 수 있습니다.
+
GRID CA에서 서명한 기본 S3 및 Swift API 인증서를 외부 인증 기관이 서명한 사용자 지정 인증서로 대체하지 않으면 이 옵션을 선택할 수 없습니다. 을 참조하십시오xref:../admin/configuring-custom-server-certificate-for-storage-node-or-clb.adoc[S3 및 Swift API 인증서를 구성합니다].



. StorageGRID S3 및 Swift 인증서를 사용하지 않는 경우 인증서를 업로드하거나 생성합니다.
+
[role="tabbed-block"]
====
.인증서를 업로드합니다
--
.. 인증서 업로드 * 를 선택합니다.
.. 필요한 서버 인증서 파일을 업로드합니다.
+
*** * 서버 인증서 *: PEM 인코딩의 사용자 정의 서버 인증서 파일.
*** * 인증서 개인 키 *: 사용자 지정 서버 인증서 개인 키 파일('.key')입니다.
+

NOTE: EC 개인 키는 224비트 이상이어야 합니다. RSA 개인 키는 2048비트 이상이어야 합니다.

*** * CA 번들 *: 각 중간 발급 CA(인증 기관)의 인증서를 포함하는 단일 선택적 파일입니다. 파일에는 인증서 체인 순서에 연결된 PEM 인코딩된 CA 인증서 파일이 각각 포함되어야 합니다.


.. 업로드한 각 인증서의 메타데이터를 보려면 * 인증서 세부 정보 * 를 확장합니다. 선택적 CA 번들을 업로드한 경우 각 인증서는 자체 탭에 표시됩니다.
+
*** 인증서 파일을 저장하려면 * 인증서 다운로드 * 를 선택하고 인증서 번들을 저장하려면 * CA 번들 다운로드 * 를 선택합니다.
+
인증서 파일 이름 및 다운로드 위치를 지정합니다. 확장자가 '.pem'인 파일을 저장합니다.

+
예를 들어, 'toragegrid_certificate.pem'

*** 다른 곳에 붙여넣을 인증서 내용을 복사하려면 * 인증서 PEM * 복사 또는 * CA 번들 PEM * 복사 를 선택합니다.


.. Create * 를 선택합니다. + 로드 밸런서 끝점이 생성됩니다. 사용자 지정 인증서는 S3 및 Swift 클라이언트와 끝점 간의 이후의 모든 새 연결에 사용됩니다.


--
.인증서를 생성합니다
--
.. 인증서 생성 * 을 선택합니다.
.. 인증서 정보를 지정합니다.
+
*** * 도메인 이름 *: 인증서에 포함할 하나 이상의 정규화된 도메인 이름입니다. 여러 도메인 이름을 나타내는 와일드카드로 * 를 사용합니다.
*** * IP *: 인증서에 포함할 하나 이상의 IP 주소입니다.
*** * subject *: X.509 주체 또는 인증서 소유자의 고유 이름(DN)
*** * 일 유효 *: 인증서 만료 후 일 수입니다.


.. Generate * 를 선택합니다.
.. 생성된 인증서의 메타데이터를 보려면 * 인증서 세부 정보 * 를 선택합니다.
+
*** 인증서 파일을 저장하려면 * 인증서 다운로드 * 를 선택합니다.
+
인증서 파일 이름 및 다운로드 위치를 지정합니다. 확장자가 '.pem'인 파일을 저장합니다.

+
예를 들어, 'toragegrid_certificate.pem'

*** 다른 곳에 붙여넣을 인증서 내용을 복사하려면 * 인증서 PEM * 복사 를 선택합니다.


.. Create * 를 선택합니다.
+
로드 밸런서 끝점이 생성됩니다. 사용자 지정 인증서는 S3 및 Swift 클라이언트와 이 엔드포인트 간의 이후의 모든 새 연결에 사용됩니다.



--
====




=== 작업을 마친 후

. DNS(도메인 이름 시스템)를 사용하는 경우 DNS에 StorageGRID 정규화된 도메인 이름을 클라이언트가 연결하는 데 사용할 각 IP 주소에 연결하는 레코드가 포함되어 있는지 확인합니다.
+
DNS 레코드에 입력하는 IP 주소는 로드 밸런싱 노드의 HA 그룹을 사용하는지 여부에 따라 달라집니다.

+
** HA 그룹을 구성한 경우 클라이언트는 해당 HA 그룹의 가상 IP 주소에 연결됩니다.
** HA 그룹을 사용하지 않는 경우 클라이언트는 게이트웨이 노드 또는 관리 노드의 IP 주소를 사용하여 StorageGRID 로드 밸런서 서비스에 연결됩니다.
+
또한 DNS 레코드가 와일드카드 이름을 포함하여 필요한 모든 끝점 도메인 이름을 참조하는지 확인해야 합니다.



. S3 및 Swift 클라이언트에 엔드포인트에 연결하는 데 필요한 정보 제공:
+
** 포트 번호입니다
** 정규화된 도메인 이름 또는 IP 주소입니다
** 필요한 인증서 세부 정보입니다






== 로드 밸런서 끝점을 보고 편집합니다

보안 끝점의 인증서 메타데이터를 포함하여 기존 로드 밸런서 끝점에 대한 세부 정보를 볼 수 있습니다. 또한 끝점의 이름 또는 바인딩 모드를 변경하고 연결된 인증서를 업데이트할 수 있습니다.

서비스 유형(S3 또는 Swift), 포트 또는 프로토콜(HTTP 또는 HTTPS)은 변경할 수 없습니다.

* 모든 로드 밸런서 끝점에 대한 기본 정보를 보려면 부하 분산 장치 끝점 페이지의 표를 검토하십시오.
+
image::../media/load_balancer_endpoint_table.png[부하 분산 장치 엔드포인트 테이블]

* 인증서 메타데이터를 포함하여 특정 끝점에 대한 모든 세부 정보를 보려면 테이블에서 끝점 이름을 선택합니다.
+
image::../media/load_balancer_endpoint_details.png[부하 분산 장치 엔드포인트 세부 정보]

* 끝점을 편집하려면 부하 분산 끝점 페이지의 * 작업 * 메뉴 또는 특정 끝점의 세부 정보 페이지를 사용합니다.
+

IMPORTANT: 끝점을 편집한 후 변경 내용이 모든 노드에 적용될 때까지 최대 15분 정도 기다려야 할 수 있습니다.

+
[cols="1a, 2a,2a"]
|===
| 작업 | 작업 메뉴 | 세부 정보 페이지 


 a| 
끝점 이름을 편집합니다
 a| 
.. 끝점의 확인란을 선택합니다.
.. 작업 * > * 끝점 이름 편집 * 을 선택합니다.
.. 새 이름을 입력합니다.
.. 저장 * 을 선택합니다.

 a| 
.. 세부 정보를 표시할 끝점 이름을 선택합니다.
.. 편집 아이콘을 선택합니다 image:../media/icon_edit_tm.png["편집 아이콘"].
.. 새 이름을 입력합니다.
.. 저장 * 을 선택합니다.




 a| 
끝점 바인딩 모드를 편집합니다
 a| 
.. 끝점의 확인란을 선택합니다.
.. 작업 * > * 끝점 바인딩 모드 편집 * 을 선택합니다.
.. 필요에 따라 바인딩 모드를 업데이트합니다.
.. 변경 내용 저장 * 을 선택합니다.

 a| 
.. 세부 정보를 표시할 끝점 이름을 선택합니다.
.. 바인딩 모드 편집 * 을 선택합니다.
.. 필요에 따라 바인딩 모드를 업데이트합니다.
.. 변경 내용 저장 * 을 선택합니다.




 a| 
끝점 인증서를 편집합니다
 a| 
.. 끝점의 확인란을 선택합니다.
.. 작업 * > * 끝점 인증서 편집 * 을 선택합니다.
.. 필요에 따라 새 사용자 지정 인증서를 업로드하거나 생성하거나 글로벌 S3 및 Swift 인증서를 사용하기 시작합니다.
.. 변경 내용 저장 * 을 선택합니다.

 a| 
.. 세부 정보를 표시할 끝점 이름을 선택합니다.
.. Certificate * 탭을 선택합니다.
.. 인증서 편집 * 을 선택합니다.
.. 필요에 따라 새 사용자 지정 인증서를 업로드하거나 생성하거나 글로벌 S3 및 Swift 인증서를 사용하기 시작합니다.
.. 변경 내용 저장 * 을 선택합니다.


|===




== 로드 밸런서 끝점을 제거합니다

Actions * 메뉴를 사용하여 하나 이상의 끝점을 제거하거나 세부 정보 페이지에서 단일 끝점을 제거할 수 있습니다.


IMPORTANT: 클라이언트 중단을 방지하려면 로드 밸런서 엔드포인트를 제거하기 전에 영향을 받는 S3 또는 Swift 클라이언트 애플리케이션을 모두 업데이트하십시오. 다른 로드 밸런서 끝점에 할당된 포트를 사용하여 연결할 각 클라이언트를 업데이트합니다. 필요한 인증서 정보도 업데이트해야 합니다.

* 하나 이상의 끝점을 제거하려면:
+
.. 부하 분산 장치 페이지에서 제거할 각 끝점에 대한 확인란을 선택합니다.
.. Actions * > * Remove * 를 선택합니다.
.. OK * 를 선택합니다.


* 세부 정보 페이지에서 끝점 하나를 제거하려면 다음을 수행합니다.
+
.. 로드 밸런서 페이지에서 끝점 이름을 선택합니다.
.. 세부 정보 페이지에서 * 제거 * 를 선택합니다.
.. OK * 를 선택합니다.



