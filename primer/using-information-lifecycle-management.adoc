---
permalink: primer/using-information-lifecycle-management.html 
sidebar: sidebar 
keywords: what is information lifecycle management, how to use ilm 
summary: 'ILM(정보 수명 주기 관리) \(ILM\)을 사용하여 StorageGRID 시스템의 모든 개체에 대한 배치, 기간 및 데이터 보호를 제어할 수 있습니다. ILM 규칙은 StorageGRID이 시간에 따라 개체를 저장하는 방법을 결정합니다. 하나 이상의 ILM 규칙을 구성한 다음 ILM 정책에 추가합니다.' 
---
= 정보 수명 주기 관리를 사용합니다
:icons: font
:imagesdir: ../media/


[role="lead"]
ILM(정보 수명 주기 관리)을 사용하여 StorageGRID 시스템의 모든 개체에 대한 배치, 기간 및 데이터 보호를 제어할 수 있습니다. ILM 규칙은 StorageGRID이 시간에 따라 개체를 저장하는 방법을 결정합니다. 하나 이상의 ILM 규칙을 구성한 다음 ILM 정책에 추가합니다.

ILM 규칙 정의:

* 어떤 오브젝트를 저장해야 하는지. 규칙은 모든 개체에 적용할 수 있으며, 규칙을 적용할 개체를 식별하는 필터를 지정할 수도 있습니다. 예를 들어, 규칙은 특정 테넌트 계정, 특정 S3 버킷 또는 Swift 컨테이너 또는 특정 메타데이터 값과 연결된 오브젝트에만 적용할 수 있습니다.
* 스토리지 유형 및 위치입니다. 오브젝트는 스토리지 노드, 클라우드 스토리지 풀 또는 아카이브 노드에 저장할 수 있습니다.
* 생성된 오브젝트 복사본의 유형입니다. 복사본을 복제하거나 삭제 코딩할 수 있습니다.
* 복제된 복사본의 경우 생성된 복사본 수입니다.
* 삭제 코딩 복사본의 경우 삭제 코딩 방법을 사용합니다.
* 시간이 지나면서 개체의 스토리지 위치 및 복사본 유형이 변경됩니다.
* 오브젝트를 그리드에 수집하면서 오브젝트 데이터를 보호하는 방법(동기식 배치 또는 이중 커밋)


개체 메타데이터는 ILM 규칙에 의해 관리되지 않습니다. 대신 오브젝트 메타데이터는 메타데이터 저장소라고 하는 Cassandra 데이터베이스에 저장됩니다. 데이터가 손실되지 않도록 보호하기 위해 각 사이트에 오브젝트 메타데이터의 복사본 3개가 자동으로 유지됩니다. 복제본은 모든 스토리지 노드에 균등하게 분산됩니다.



== ILM 규칙 예

이 ILM 규칙 예는 테넌트 A에 속하는 객체에 적용됩니다 즉, 이러한 객체의 복제본을 두 개 생성하고 각 복제본을 다른 사이트에 저장합니다. 두 개의 사본은 영구 보관되어 있습니다. 즉, StorageGRID는 이를 자동으로 삭제하지 않습니다. 대신, StorageGRID는 이러한 객체가 클라이언트 삭제 요청에 의해 삭제되거나 버킷 수명 주기가 만료될 때까지 해당 객체를 유지합니다.

이 규칙은 수집 동작에 균형 옵션을 사용합니다. 테넌트 A가 개체를 StorageGRID에 저장하는 즉시 두 사이트 배치 명령이 적용됩니다. 단, 두 필요한 복제본을 모두 즉시 생성할 수 없습니다. 예를 들어 테넌트 A가 객체를 저장할 때 사이트 2에 연결할 수 없는 경우 StorageGRID는 사이트 1의 스토리지 노드에 두 개의 중간 복제본을 만듭니다. 사이트 2를 사용할 수 있게 되면 StorageGRID는 해당 사이트에서 필요한 복사본을 만듭니다.

image::../media/ilm_example_rule_2_copies_tenant_a.png[예 ILM 규칙 2 테넌트 A를 복사합니다]



== ILM 정책이 개체를 평가하는 방법

StorageGRID 시스템에 대한 활성 ILM 정책은 모든 개체의 배치, 기간 및 데이터 보호를 제어합니다.

클라이언트가 개체를 StorageGRID에 저장하면 활성 정책에서 정렬된 ILM 규칙 집합에 대해 다음과 같이 개체가 평가됩니다.

. 정책의 첫 번째 규칙에 대한 필터가 개체와 일치하면 해당 규칙의 수집 동작에 따라 개체가 수집되고 해당 규칙의 배치 지침에 따라 저장됩니다.
. 첫 번째 규칙의 필터가 개체와 일치하지 않으면 일치하는 항목이 될 때까지 해당 개체가 정책의 다음 각 규칙에 대해 평가됩니다.
. 개체와 일치하는 규칙이 없으면 정책의 기본 규칙에 대한 수집 동작 및 배치 지침이 적용됩니다. 기본 규칙은 정책의 마지막 규칙이며 필터를 사용할 수 없습니다. 모든 테넌트, 모든 버킷 및 모든 오브젝트 버전에 적용되어야 합니다.




== ILM 정책의 예

이 ILM 정책은 세 가지 ILM 규칙을 사용합니다.

image::../media/policy_for_two_tenants.png[두 테넌트의 정책 예]

이 예제에서 규칙 1은 테넌트 A에 속하는 모든 객체를 일치시킵니다 이러한 오브젝트는 3개의 사이트에 3개의 복제된 복사본으로 저장됩니다. 다른 테넌트에 속한 개체는 규칙 1에 의해 일치하지 않으므로 규칙 2에 대해 평가됩니다.

규칙 2는 다른 테넌트의 모든 객체를 일치하지만 1MB 이상인 경우에만 일치합니다. 이러한 큰 오브젝트는 3개의 사이트에서 6+3 삭제 코딩을 사용하여 저장됩니다. 규칙 2가 1MB 이하의 객체와 일치하지 않으므로 규칙 3에 대해 이러한 객체가 평가됩니다.

규칙 3은 정책의 마지막 기본 규칙이며 필터를 사용하지 않습니다. 규칙 3은 규칙 1 또는 규칙 2(1MB 이하의 테넌트 A에 속하지 않는 객체)에 의해 일치하지 않는 모든 객체의 복제된 복제본을 두 개 만듭니다.

image::../media/ilm_policy_and_rules.png[ILM 정책 및 규칙]

* 관련 정보 *

* xref:../ilm/index.adoc[ILM을 사용하여 개체를 관리합니다]

